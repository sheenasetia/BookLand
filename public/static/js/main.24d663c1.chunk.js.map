{"version":3,"sources":["components/home.js","components/addBook.js","components/navbar.js","components/editBook.js","components/pageNotFound.js","components/SignUp.js","components/Login.js","components/welcome.js","components/main.js","index.js"],"names":["Home","this","props","fetchBooksList","className","id","books","map","book","key","_id","name","author","version","onClick","selectBook","to","deleteBook","React","Component","AddBook","addBook","bind","state","redirectToHome","event","preventDefault","target","value","setTimeout","fetch","method","headers","body","JSON","stringify","then","res","ok","json","alert","setState","onSubmit","type","Navbar","showLogout","handleLogout","dealLogout","someprops","console","log","auth","EditBook","editBook","refs","error","catch","ref","defaultValue","PageNotFound","SignUp","_addUser","user","age","userName","password","err","required","Login","Error","makeAuthentication","Welcome","Main","selectedBook","isAuth","selectBookFun","exact","path","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.24d663c1.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nexport class Home extends React.Component {\r\n    componentDidMount() {\r\n        this.props.fetchBooksList();\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"container-fluid\" id=\"bookList\">\r\n            <h1>Welcome to Library Portal</h1>\r\n                    <table className=\"table table-bordered table-hover mr-auto ml-auto col-sm-6\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Book Name</th>\r\n                            <th>Book Author</th>\r\n                            <th>Book Version</th>\r\n                            <th>Operations</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.props.books.map((book)=>{\r\n                        return(\r\n                        <tr key={book._id}>\r\n                            <td>{book.name}</td>\r\n                            <td>{book.author}</td>\r\n                            <td>{book.version}</td>\r\n                            <td><button onClick={()=>this.props.selectBook(book)}><Link to=\"/editBook\">EDIT</Link></button>/ \r\n                                <button onClick={()=>this.props.deleteBook(book)}>DELETE</button>\r\n                            </td>\r\n                        </tr>)\r\n                    })}\r\n                    </tbody>\r\n                </table>                    \r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport {Redirect} from 'react-router-dom';\r\nexport class AddBook extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.addBook=this.addBook.bind(this);\r\n        this.state={\r\n            redirectToHome:false\r\n        }\r\n    }\r\n   \r\n    addBook(event) {\r\n        event.preventDefault();\r\n        let nm=event.target.name.value\r\n        let auth=event.target.author.value\r\n        let ver=event.target.version.value\r\n        const book= {\r\n                name: nm,\r\n                author: auth,\r\n                version: ver,\r\n        }\r\n        setTimeout(() => {\r\n            fetch('/books/addBook', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify(book)\r\n            })\r\n                .then(res => {\r\n                    if (res.ok) {\r\n                        return res.json();\r\n                    }\r\n                })\r\n                .then(res => {\r\n                    alert(`New book: ${JSON.stringify(res)} added successfully`);\r\n                    this.setState({ redirectToHome: true });\r\n                    // this.props.history.push(\"/home\");\r\n                })\r\n        })\r\n        /*if(!idd || !namee || !authh) {\r\n        alert(\"Fill all the details\");\r\n        return;\r\n        }\r\n        const obj={\r\n            id:idd,\r\n            name:namee,\r\n            author:authh\r\n        }\r\n        if(obj===undefined)\r\n        {\r\n            alert(\"Already Existing\")\r\n            return;\r\n        }\r\n        fetch(\"/addBook\",{\r\n        method:\"POST\",\r\n        headers: {\r\n            \"Content-Type\" : \"application/json\" ,\r\n        },\r\n        body: JSON.stringify(obj)\r\n        })\r\n        .then(res => {\r\n            if (res.ok) return res.json()\r\n        })\r\n        .then(res => {\r\n            alert(`Book ${JSON.stringify(res)} updated successfully `)\r\n            this.setState({redirectToHome:'true'});\r\n            console.log(`Book updated successully`)\r\n        })\r\n        .catch(error => {\r\n            console.error(`Error updating book: ${error}`)\r\n        })*/\r\n    }\r\n    render() {\r\n        if(this.state.redirectToHome===true)\r\n            {\r\n                return <Redirect to='/home' />\r\n            }\r\n        return (\r\n            <div>\r\n            <form onSubmit={this.addBook}>\r\n            <h2>Add a Book</h2><br/>\r\n            Book name : <input type=\"text\" name=\"name\" /><br/><br/>\r\n            Book author : <input type= \"text\" name=\"author\" /><br/><br/>\r\n            Book version : <input type= \"text\" name=\"version\" /><br/><br/>\r\n            <input type=\"submit\" value=\"Submit\" />\r\n            </form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport {Link,Redirect} from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nclass Navbar extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state={\r\n            showLogout:false\r\n        }\r\n        this.handleLogout=this.handleLogout.bind(this);\r\n    }\r\n    async handleLogout(){\r\n        await this.props.dealLogout();\r\n    }\r\n    componentWillReceiveProps(someprops) {\r\n        console.log(this.props.auth);\r\n        if(this.props.auth===true)\r\n        {\r\n            this.setState({showLogout:true})\r\n        }\r\n        else\r\n        {    \r\n            this.setState({showLogout:false})\r\n        }\r\n      }\r\n    render() {\r\n        console.log('navbar rendered with ', this.props.auth);\r\n    return (\r\n        <div className=\"Navbar\">\r\n                <nav className=\"navbar navbar-expand-lg\" >\r\n                    <div className=\"navbar-brand\">\r\n                        <Link to='/'>BOOKLAND</Link>\r\n                    </div>\r\n                    <div className={this.state.showLogout?\"navbar-item m-4\":\"navbar-item d-none\"}>\r\n                        <Link to=\"/home\">Show Books List</Link>\r\n                    </div>\r\n                    <div className={this.state.showLogout?\"navbar-item m-4\":\"navbar-item d-none\"}>\r\n                        <Link to='/addBook'>Add Book</Link>\r\n                    </div>\r\n                    <div className={this.state.showLogout?\"navbar-item d-none\":\"navbar-item m-4\"}>\r\n                        <Link to='/signup'>Signup</Link>\r\n                    </div>\r\n                    <div className={this.state.showLogout?\"navbar-item d-none\":\"navbar-item m-4\"}>\r\n                        <Link to='/login'>Login</Link>\r\n                    </div>\r\n                    <div className={this.state.showLogout?\"navbar-item m-4\":\"navbar-item d-none\"}>\r\n                        <a onClick={this.handleLogout}>Logout</a>\r\n                    </div>\r\n                </nav>\r\n        </div >\r\n    )\r\n    }\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nexport class EditBook extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.editBook=this.editBook.bind(this);\r\n        this.state={\r\n            redirectToHome:false\r\n        }\r\n    }\r\n    editBook(event){\r\n        event.preventDefault();\r\n        let book = {\r\n            _id: this.props.book._id,\r\n            name: this.refs.name.value,\r\n            author: this.refs.author.value,\r\n            version: this.refs.version.value,\r\n        }\r\n        console.log('Updating book')\r\n        fetch(`/books/updateBook`, {\r\n            method: \"PUT\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(book)\r\n        })\r\n            .then(res => {\r\n                if (res.ok) return res.json()\r\n            })\r\n            .then(res => {\r\n                alert(`Book ${res} updated successfully `)\r\n                console.error(`Book updated successully`)\r\n                this.setState({ redirectToHome: true });\r\n            })\r\n            .catch(error => {\r\n                console.error(`Error updating book: ${error}`)\r\n            })\r\n    }\r\n    render() {\r\n        if(this.state.redirectToHome===true)\r\n        {\r\n           return <Redirect to='/home' />\r\n        }\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.editBook}>\r\n                <h2>Book ready to Edit</h2><br/>\r\n                    Book name : <input type=\"text\" ref=\"name\" defaultValue={this.props.book.name} /><br/><br/>\r\n                    Book author : <input type=\"text\" ref=\"author\" defaultValue={this.props.book.author} /><br/><br/>\r\n                    Book version : <input type=\"text\" ref=\"version\" defaultValue={this.props.book.version} /><br/><br/>\r\n                    <input type=\"submit\" value=\"Submit\" />\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React from 'react';\r\n\r\nexport class PageNotFound extends React.Component {\r\n    render() {\r\n        return <h1\r\n        >Sorry,Page Not Found</h1>\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom'\r\nimport './styling.css';\r\nclass SignUp extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            redirectToHome: false\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.redirectToHome) {\r\n            return <Redirect to='/' />\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <form onSubmit={this._addUser}>\r\n                    <div className=\"form\">\r\n                        <div className=\"form-group col-md-12\">\r\n                            <label>Name</label>\r\n                            <input type=\"text\" ref=\"name\" className=\"form-control\" required></input>\r\n                        </div>\r\n                        <div className=\"form-group col-md-12\">\r\n                            <label>Age</label>\r\n                            <input type=\"number\" ref=\"age\" className=\"form-control\"></input>\r\n                        </div>\r\n                        <div className=\"form-group col-md-12\">\r\n                            <label>UserName</label>\r\n                            <input type=\"text\" ref=\"userName\" className=\"form-control\" required></input>\r\n                        </div>\r\n                        <div className=\"form-group col-md-12\">\r\n                            <label>Password</label>\r\n                            <input type=\"password\" ref=\"password\" className=\"form-control\" required></input>\r\n                        </div>\r\n                        <button type=\"submit\" >Sign Up</button>\r\n                    </div>\r\n                </form>\r\n            </div >\r\n        )\r\n    }\r\n\r\n    _addUser = (event) => {\r\n        event.preventDefault();\r\n        let user = {\r\n            name: this.refs.name.value,\r\n            age: this.refs.age.value,\r\n            userName: this.refs.userName.value,\r\n            password: this.refs.password.value,\r\n            \r\n        }\r\n\r\n        fetch('/users/add', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(user)\r\n        })\r\n            .then(res => {\r\n                if (res.ok) return res.json()\r\n            })\r\n            .then(res => {\r\n               // console.log(`User added successfully: ${res}`)\r\n                alert('User created successfully')\r\n                this.setState({ redirectToHome: true });\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                alert('Error creating user')\r\n            })\r\n    }\r\n}\r\n\r\nexport default SignUp;","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nclass Login extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            redirectToHome: false\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.redirectToHome) {\r\n            return <Redirect to='/' />\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <form onSubmit={this._addUser}>\r\n                    <div className=\"form\">\r\n                        <div className=\"form-group col-md-12\">\r\n                            <label>UserName</label>\r\n                            <input type=\"text\" ref=\"userName\" className=\"form-control\" required></input>\r\n                        </div>\r\n                        <div className=\"form-group col-md-12\">\r\n                            <label>Password</label>\r\n                            <input type=\"password\" ref=\"password\" className=\"form-control\" required></input>\r\n                        </div>\r\n                        <button type=\"submit\">Login</button>\r\n                    </div>\r\n                </form>\r\n            </div >\r\n        )\r\n    }\r\n\r\n    _addUser = (event) => {\r\n        event.preventDefault();\r\n        let user = {\r\n            userName: this.refs.userName.value,\r\n            password: this.refs.password.value\r\n        }\r\n\r\n        fetch(\"/users/login\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(user)\r\n        })\r\n            .then(res => {\r\n                if(res.ok) return res.json()\r\n                else throw new Error()\r\n            })\r\n            .then(res => {\r\n                console.log(`User added successfully: ${res}`)\r\n                this.props.makeAuthentication();\r\n                this.setState({ redirectToHome: true });\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                alert('Bad Login Credentials');\r\n            })\r\n    }\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nconst Welcome=()=>{\r\n    return(\r\n    <div className=\"welcome\" >\r\n        <div className=\"content\">\r\n        <h1>Welcome to Library Portal</h1>\r\n        <h3>Login/Signup to above given Links to Continue</h3>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Welcome;","import React from 'react';\r\nimport {Home} from './home';\r\nimport {AddBook} from './addBook';\r\nimport Navbar from './navbar';\r\nimport {EditBook} from './editBook';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { Link , Route, Switch, Redirect, withRouter } from 'react-router-dom';\r\nimport { PageNotFound } from './pageNotFound';\r\nimport SignUp from './SignUp';\r\nimport Login from './Login';\r\nimport Welcome from './welcome';\r\nexport class Main extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            books:[],\r\n            selectedBook:\"\",\r\n            isAuth:false\r\n        }\r\n        this.selectBookFun=this.selectBookFun.bind(this);\r\n        this.dealLogout=this.dealLogout.bind(this);\r\n        this.makeAuthentication=this.makeAuthentication.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(\"Component is mounted\");\r\n    }\r\n\r\n    fetchBooksList = () => {\r\n        fetch('/books')\r\n        .then(res => {\r\n            if(res.ok)\r\n            return res.json()\r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            this.setState({ books: res });\r\n            console.log(this.state.books)\r\n        })\r\n        .catch(res => {\r\n            console.log(`The error is : ${JSON.stringify(res)}`)\r\n        })\r\n\r\n           \r\n    }\r\n\r\n\r\n    async dealLogout() {\r\n        await this.setState({isAuth:false});\r\n        try {\r\n            let response = await fetch(\"/users/logout\",{\r\n                method:\"GET\",\r\n                headers: {\r\n                    \"Content-Type\" : \"application/json\"\r\n                }\r\n            })\r\n            if (response.ok) {\r\n                await this.setState({isAuth:false});\r\n            }\r\n          } catch(err) {\r\n            // catches errors both in fetch and response.json\r\n            alert(err);\r\n          }\r\n    }\r\n    \r\n    deleteBook = (book) => {\r\n    console.log(`Book to be delete is: ${JSON.stringify(book)}`)\r\n    console.log(this);\r\n\r\n        fetch(`/books/deleteBook?id=${book._id}`, {\r\n            method: \"DELETE\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    console.log(`${book} is deleted`);\r\n                    this.fetchBooksList();\r\n                    // return res.json()\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(`The error is: ${error}`)\r\n            })\r\n    }\r\n /*remove(book) {\r\n            fetch(`/deleteBook/${book.id}`, {\r\n                method: \"DELETE\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                }\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    alert(`Deleting book id : ${book.id}`);\r\n                    this.fetchBooksList();\r\n                }\r\n            })\r\n      }\r\n*/\r\n    selectBookFun(book) {\r\n        this.setState({\r\n            selectedBook:book\r\n        })\r\n    } \r\n\r\n    async makeAuthentication() {\r\n        await this.setState({\r\n            isAuth:true\r\n        })\r\n    }\r\n\r\n    render() {\r\n        console.log('main rendered',this.state.isAuth);\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div id=\"main\" className=\"row\">\r\n                    <div className=\"col\">  {/* col-12 */}\r\n                        <Navbar dealLogout={this.dealLogout} auth={this.state.isAuth}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <Switch>\r\n                        <Route exact path=\"/\" render={ this.state.isAuth!==true?()=>( <Welcome/>):()=>( <Home books={this.state.books} selectBook={(book)=>{this.selectBookFun(book)}} deleteBook={(book)=>{this.deleteBook(book)}} fetchBooksList={this.fetchBooksList}/>)}/>\r\n                        <Route exact path=\"/home\" render={ this.state.isAuth!==true?()=>( <Welcome/>):()=>( <Home books={this.state.books} selectBook={(book)=>{this.selectBookFun(book)}} deleteBook={(book)=>{this.deleteBook(book)}} fetchBooksList={this.fetchBooksList}/>)} ></Route>\r\n                        <Route exact path=\"/editBook\" render={ this.state.isAuth!==true?()=>( <Welcome/>):()=>( <EditBook book={this.state.selectedBook} />)} ></Route>\r\n                        <Route exact path=\"/addBook\" render={this.state.isAuth!==true?()=>( <Welcome/>):()=>( <AddBook/>) }/>\r\n                        <Route path=\"/signup\" render={(props) => <SignUp />} />\r\n                        <Route path=\"/login\" render={(props) => <Login makeAuthentication={this.makeAuthentication}/>} />\r\n                        <Route render={()=>(<PageNotFound/>)}></Route>\r\n                    </Switch> \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {Main} from './components/main';\nimport {BrowserRouter} from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nReactDOM.render(<BrowserRouter><Main /></BrowserRouter>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}